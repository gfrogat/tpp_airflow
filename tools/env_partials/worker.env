# worker.env

POSTGRES_SSL_CONFIG=$(echo -e "\e[31mYou did not update POSTGRES_SSL_CONFIG in your .conda.env file! Check SETUP.md for instructions!\e[0m")

# RabbitMQ SSL Setup
RABBITMQ_SSL_CLIENT_KEY=$(echo -e "\e[31mYou did not update RABBITMQ_SSL_CLIENT_KEY in your .conda.env file! Check SETUP.md for instructions!\e[0m")
RABBITMQ_SSL_CLIENT_CERT=$(echo -e "\e[31mYou did not update RABBITMQ_SSL_CLIENT_CERT in your .conda.env file! Check SETUP.md for instructions!\e[0m")
RABBITMQ_SSL_CLIENT_CACERT=$(echo -e "\e[31mYou did not update RABBITMQ_SSL_CLIENT_CACERT in your .conda.env file! Check SETUP.md for instructions!\e[0m")

# Celery Setup
AIRFLOW__CORE__EXECUTOR=CeleryExecutor
AIRFLOW__CORE__SQL_ALCHEMY_CONN=postgresql+psycopg2://$POSTGRES_USER:$POSTGRES_PW@$POSTGRES_HOST:$POSTGRES_PORT/$POSTGRES_DB?$POSTGRES_SSL_CONFIG
AIRFLOW__CORE__LOAD_EXAMPLES=false

# Celery broker + results setup (SSL at end of BROKER URL ESSENTIAL for stuff to work)
AIRFLOW__CELERY__BROKER_URL=pyamqp://$RABBITMQ_USER:$RABBITMQ_PW@$RABBITMQ_HOST:$RABBITMQ_PORT/$RABBITMQ_DB?ssl=true
AIRFLOW__CELERY__RESULT_BACKEND=db+postgresql+psycopg2://$POSTGRES_USER:$POSTGRES_PW@$POSTGRES_HOST:$POSTGRES_PORT/$POSTGRES_DB?$POSTGRES_SSL_CONFIG
